    <script type="text/javascript"
      src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.10.2.min.js"></script>
    
<script type="text/javascript" src="jsqrcode/grid.js"></script>
<script type="text/javascript" src="jsqrcode/version.js"></script>
<script type="text/javascript" src="jsqrcode/detector.js"></script>
<script type="text/javascript" src="jsqrcode/formatinf.js"></script>
<script type="text/javascript" src="jsqrcode/errorlevel.js"></script>
<script type="text/javascript" src="jsqrcode/bitmat.js"></script>
<script type="text/javascript" src="jsqrcode/datablock.js"></script>
<script type="text/javascript" src="jsqrcode/bmparser.js"></script>
<script type="text/javascript" src="jsqrcode/datamask.js"></script>
<script type="text/javascript" src="jsqrcode/rsdecoder.js"></script>
<script type="text/javascript" src="jsqrcode/gf256poly.js"></script>
<script type="text/javascript" src="jsqrcode/gf256.js"></script>
<script type="text/javascript" src="jsqrcode/decoder.js"></script>
<script type="text/javascript" src="jsqrcode/qrcode.js"></script>
<script type="text/javascript" src="jsqrcode/findpat.js"></script>
<script type="text/javascript" src="jsqrcode/alignpat.js"></script>
<script type="text/javascript" src="jsqrcode/databr.js"></script>

  <form>
    <input type="file" onchange="previewFile()" /><br/>
  <h1>Preview</h1>
   <div style="height:200px">
    <img src="" id="preview" height="200" alt="Image preview..." />
   </div>  
  </form>

	<p>If the image above looks clear, click the decode button.  If not, try again!</p>
	<button id="decode" onclick="decode()">Decode</button> 
  <script>
  
  function read(a)
  {
        alert(a);
		if( (typeof sforce != 'undefined') && (sforce != null) ) {
        	sforce.one.navigateToSObject(a);
        }
        else {
        	window.location="/" + a;
		}        
  }         
        
  $(document).ready(function() {
        qrcode.callback = read;
  });
  
  
function previewFile() {
  var preview = document.querySelector('#preview');
  var file    = document.querySelector('input[type=file]').files[0];
  var reader  = new FileReader();

  reader.onloadend = function () {
    preview.src = reader.result;
  }

  if (file) {
    reader.readAsDataURL(file);
  } else {
    preview.src = "";
  }
}

function decode() {
    try
    {
    var preview=document.querySelector('#preview');
    qrcode.decode(preview.src);
    }
    catch (e)
    {
       alert('Error - ' + e);
    }
}

</script>
